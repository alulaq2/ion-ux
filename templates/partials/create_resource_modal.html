<div id="create-resource-overlay" class="modal-ooi modal hide">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h1>Create Resource</h1>
    </div>
    <div class="modal-body">
        <form class="form-horizontal">
            <div class="control-group">
                <label class="control-label" for="org">Facility</label>
                <div class="controls">
                    <select name="org">
                        <% _.each(orgs, function(o) { %>
                            <option value="<%= o._id %>"><%= o.name %></option>
                        <% }) %>
                    </select>
                </div>
            </div>
            <div class="control-group">
                <label class="control-label" for="resource-type">Resource Type</label>
                <div class="controls">
                    <select id="resourceType" name="resource-type" size="8">
                        <option value="DataProcessDefinition">Data Process Definition</option>
                        <option value="DataProcess">Data Process</option>
                        <option value="DataProduct">Data Product</option>
                        <option value="ExternalDatasetAgent">Dataset Agent</option> 
                        <option value="ExternalDatasetAgentInstance">Dataset Agent Instance</option>
                        <option value="Deployment">Deployment</option>
                        <option value="InstrumentAgent">Instrument Agent</option>
                        <option value="InstrumentAgentInstance">Instrument Agent Instance</option>
                        <option value="InstrumentDevice">Instrument Device</option>
                        <option value="MarineSite">Marine Site</option>
                        <option value="Model">Model</option>
                        <option value="Physical">Physical</option>
                        <option value="PlatformDevice">Platform Device</option>
                        <option value="Software">Software</option>
                        
                    </select>
                    <div class="softwareNested">
                            <select id="softwareResourseTypes" name="software-resource-types" size="4">
                                <option value="DataProductAlgorithm">Data Product Algorithm</option>
                                <option value="DatasetAgentDriverInstance">Dataset Agent Driver Instance</option>
                                <option value="DatasetAgentDriver">Dataset Agent Driver</option>
                                <option value="InstrumentAgentDriverInstance">Instrument Agent Driver Instance</option>
                                <option value="InstrumentAgentDriver">Instrument Agent Driver</option>
                                <option value="PlatformAgentDriverInstance">Platform Agent Driver Instance</option>
                                <option value="PlatformAgentDriver">Platform Agent Driver</option>
                            </select>
                    </div> 
                    <div class="modelNested">
                            <select id="modelResourseTypes" name="model-resource-types" size="2">
                                <option value="instrumentModel">Instrument Model</option>
                                <option value="platformModel">Platform Model</option>
                            </select>
                    </div>
                    <div class="physicalNested">
                            <select id="physicalResourseTypes" name="physical-resource-types" size="2">
                                <option value="instrumentModel">Instrument Device</option>
                                <option value="platformModel">Platform Device</option>
                            </select>
                    </div>
                    <div class="marineSiteNested">
                            <select id="marineSiteResourseTypes" name="marinesite-resource-types" size="3">
                                <option value="instrumentSite">Instrument Site</option>
                                <option value="platformSite">Platform Site</option>
                                <option value="arraySite">Array Site</option>
                            </select>
                    </div>  
                </div>
            </div>
            <div class="control-group" id="lifecycleSoftware">
                <label class="control-label" for="software-lifecycle-state">Lifecycle State</label>
                <div class="controls">
                    <select id="lifecycleStateSoftware" name="lifecycle-state">
                        <option value="Planned">Planned</option>
                        <option value="Operational">Operational</option>
                        <option value="Retired">Retired</option>
                        <option value="Deleted">Deleted</option>
                    </select>
                </div>
            </div>
            <div class="control-group" id="lifecycleDataProduct">
                <label class="control-label" for="dataproduct-lifecycle-state">Lifecycle State</label>
                <div class="controls">
                    <select id="lifecycleStateDataProduct" name="lifecycle-state">
                        <option value="Active">Active</option>
                        <option value="Retired">Retired</option>
                        <option value="Deleted">Deleted</option>
                    </select>
                </div>
            </div>
            <div class="control-group" id="lifecycleModel">
                <label class="control-label" for="model-lifecycle-state">Lifecycle State</label>
                <div class="controls">
                    <select id="lifecycleStateModel" name="lifecycle-state">
                        <option value="Planned">Planned</option>
                        <option value="Active">Active</option>
                        <option value="Retired">Retired</option>
                        <option value="Deleted">Deleted</option>
                    </select>
                </div>
            </div>
            <div class="control-group" id="lifecycleMarineSite">
                <label class="control-label" for="marinesite-lifecycle-state">Lifecycle State</label>
                <div class="controls">
                    <select id="lifecycleStateMarineSite" name="lifecycle-state">
                        <option value="Planned">Planned</option>
                        <option value="Active">Active</option>
                        <option value="Inactive">Inactive</option>
                        <option value="Retired">Retired</option>
                        <option value="Deleted">Deleted</option>
                    </select>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button id="create-account-cancel" data-dismiss="modal" class="btn-general btn-cancel">Cancel</button>
        <button id="create-resource" class="btn-blue btn-save">Create Resource</button>
    </div>
</div>
<script type="text/javascript">
$(function() {

    $('#resourceType option[value="Software"]').on('click', function(e) {
        e.preventDefault();
        $('#lifecycleModel, #lifecycleMarineSite, #lifecycleDataProduct ').hide();
        $('#lifecycleSoftware').show();
        $('#lifecycleStateSoftware option[value="Planned"]').attr('selected', 'selected');
    });
    $('#resourceType option[value="Model"]').on('click', function(e) {
        e.preventDefault();
        $('#lifecycleSoftware, #lifecycleMarineSite, #lifecycleDataProduct ').hide();
        $('#lifecycleModel').show();
        $('#lifecycleStateModel option[value="Planned"]').attr('selected', 'selected');
    });
    $('#resourceType option[value="MarineSite"]').on('click', function(e) {
         e.preventDefault();
          $('#lifecycleModel, #lifecycleSoftware, #lifecycleDataProduct ').hide();
         $('#lifecycleMarineSite').show();
         $('#lifecycleStateMarineSite option[value="Planned"]').attr('selected', 'selected');
    });

    $('#resourceType option[value="DataProduct"]').on('click', function(e) {
        e.preventDefault();
         $('#lifecycleModel, #lifecycleMarineSite, #lifecycleSoftware').hide();
        $('#lifecycleDataProduct').show();
        $('#lifecycleState option[value="Active"]').attr('selected', 'selected');
    });



    $('#resourceType option[value="Software"]').on('click', function(e) {
        e.preventDefault();
         $('.modelNested, .marineSiteNested, .physicalNested').hide();
         $('.softwareNested').show();
    });

    $('#resourceType option[value="Model"]').on('click', function(e) {
        e.preventDefault();
        $('.softwareNested, .marineSiteNested, .physicalNested').hide();
        $('.modelNested').show();
    });

    $('#resourceType option[value="MarineSite"]').on('click', function(e) {
        e.preventDefault();
        $('.softwareNested, .modelNested, .physicalNested').hide();
        $('.marineSiteNested').show();
    });

    $('#resourceType option[value="Physical"]').on('click', function(e) {
        e.preventDefault();
        $('.softwareNested, .modelNested, .marineSiteNested').hide();
        $('.physicalNested').show();
    });
    
});

